---
import Layout from "@/layouts/Layout.astro"

const title = "お問い合わせ"
---

<style>
  .form-label {
    display: block;
  }
  .form-input {
    @apply border;
    @apply border-indigo-600;
    @apply rounded-sm;
    @apply w-1/2;
    @apply text-xl;
    @apply p-2;
  }
  .form-input-message {
    @apply w-full;
  }
</style>

<Layout pageName={title}>
  <main>
    <article>
      <h2>{title}</h2>
      <p>下記お問い合わせフォームに記入して送信してください。</p>
      <form
        id="contactForm"
        action="/dummy"
        onsubmit="return validateForm()"
        method="post"
      >
        <div style="display: none;"><input id="wana" type="text" /></div>
        <p>
          <label for="name" class="form-label">名前(必須)</label>
          <input
            type="text"
            id="name"
            name="名前"
            required="required"
            class="form-input"
          />
        </p>
        <p>
          <label for="email" class="form-label">メールアドレス(必須)</label>
          <input
            type="email"
            id="email"
            name="メールアドレス"
            required="required"
            class="form-input"
          />
        </p>
        <p>
          <label for="message" class="form-label">お問い合わせ内容</label>
          <textarea
            id="message"
            name="お問い合わせ内容"
            required="required"
            rows="5"
            class="form-input form-input-message"></textarea>
        </p>
        <p>
          <input
            type="submit"
            value="送信"
            class="bg-indigo-600 text-white py-2 px-4 rounded-sm"
          />
        </p>
      </form>
    </article>
  </main>

  <script is:inline>
    const validateForm = () => {
      if (document.querySelector("#wana").value) {
        return false
      }
      document.querySelector("#contactForm").action =
        "https://ssgform.com/s/XPKZ7eBQU8Oy"
      return true
    }
  </script>
</Layout>
